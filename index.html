<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proposal</title>
    <style>
        body{
            color: white;
          font-family: Arial, sans-serif;
            text-align: center;
            background-image: url('image.jpg');
             background-size: cover;
             /* background-position: center; */
             background-repeat: no-repeat;
             padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        #proposal {
            display: none;
            font-size: 20px;
        }
        
         /* Style for the popup */
.popup {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 999;
}

.popup-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);
    text-align: center;
}

.close-popup {
    position: absolute;
    top: 5px;
    right: 10px;
    font-size: 20px;
    cursor: pointer;
}

.personal-note {
    font-size: 16px;
    margin-top: 10px;
    
} 

    #arrow {
        opacity: 0; /* Initially hide the arrow */
        animation: arrowAnimation 0.5s steps(1) infinite;
    }

    @keyframes arrowAnimation {
        from {
            opacity: 0;
            transform: translateX(-10px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
    .container {
            background-color: #202020;
            padding: 20px;
            opacity: 0.8;
            border-radius: 20px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
            width: 80%;
            margin: 20px auto;
        }
    /* Style for the proposal buttons */
    .proposal-button {
        display: inline-block;
        padding: 10px 20px;
        font-size: 18px;
        background-color: #3498db; /* Button color */
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .proposal-button:hover {
        background-color: #2980b9; /* Hover color */
    }
    /* Styles for screens with a maximum width of 768px (tablets and smaller) */
@media (max-width: 768px) {
    .container {
        width: 90%;
        margin: 10px auto;
    }
    .proposal-button {
        font-size: 16px; /* Adjust font size for smaller screens */
        padding: 8px 16px; /* Adjust padding for smaller buttons */
    }
}
    </style>
</head>
<body>
    <div class="container">
    <h1><span id="headingToType">&#128150</span>&#128150<span id="arrow">‚ñ∂Ô∏è</span></h1>
    <br>
    <button class="proposal-button" id="loadProposalButton" onclick="loadProposal()">Load Proposal</button>

    <div id="proposal">
        <p>Hey there,</p>
        <p>I Have Huge Crush on You</p>
        <p>Very Big, Like a Dinosaur</p>
        Like dinosaur
        <p>You've captured my heart's memory like an unforgettable variable.</p>
        <p>Just like well-structured code, I want to make our journey together meaningful.</p>
        <p>So, will you join me in crafting a lifetime of beautiful memories?</p>
        <br>
        <form id="responseForm" onsubmit="handleResponse(event)">
            <button type="submit" id= "yesButton" class = "proposal-button" value="yes" onclick="showPopup()">Yes, let's code this love ‚ù§Ô∏è</button>
            <button type="submit" id = "noButton" class="proposal-button" value="no">I have a boyfriend üò¢</button>
            <button type="submit" id = "dateButton" class="proposal-button" value="date">I want to know more about you. Let's go on a coffee date ‚òï</button>
        </form>
        <br>
    </div>
    <div id="successPopup" class="popup">
        <div class="popup-content">
            <h2>Message Sent Successfully</h2>
            <p class="personal-note">Your personal note will appear here.</p>
            <button class="proposal-button" onclick="closeSuccessPopup()">Okay</button>
        </div>
    </div>
    
    <footer>
        <p>Created with ‚ù§Ô∏è by Nirmal :)</p>
    </footer>
</div>




    <script>
    
          function typeHeading(elementId, text, index = 0) {
        const element = document.getElementById(elementId);
        if (index < text.length) {
            element.textContent += text.charAt(index);
            index++;
            setTimeout(() => typeHeading(elementId, text, index), 100); // Adjust the delay (in milliseconds)
        } else {
            document.getElementById('arrow').style.opacity = 1; // Show the arrow
        }
    }

    window.onload = function() {
        typeHeading('headingToType', 'Coding the Path to Your Heart	');
    };
    function loadProposal() {
    const loadButton = document.getElementById('loadProposalButton');
    const proposalContainer = document.getElementById('proposal');
    loadButton.style.display = 'none'; // Hide the button
    proposalContainer.style.display = 'block'; // Show the proposal content
}
        
   
    // Adding click event listeners to the buttons
    document.getElementById("yesButton").addEventListener("click", function() {
        showPopup("Wow, this is an incredible moment for me. Your 'Yes' has filled my heart with joy and excitement. I promise to cherish and respect the bond we share. Looking forward to embarking on this beautiful journey together.");
    });

    document.getElementById("noButton").addEventListener("click", function() {
        showPopup("I truly appreciate your honesty. While my feelings are genuine, I respect your current commitment. Your honesty means a lot to me, and I'm glad we can have an open and honest conversation. If things change in the future or if you ever want to talk, feel free to reach out. Wishing you all the happiness.");
    });

    document.getElementById("dateButton").addEventListener("click", function() {
        showPopup("That sounds like a fantastic idea! I'd love to go on a coffee date with you. It's a wonderful opportunity for us to spend some quality time together. Let's plan a time that works best for both of us. Looking forward to sharing some meaningful conversations and getting to know each other better.");
    });
    function showPopup(personalNote) {
        const popup = document.getElementById('successPopup');
        const personalNoteElement = popup.querySelector('.personal-note');
        personalNoteElement.textContent = personalNote;
        popup.style.display = 'block';
    }

    function closeSuccessPopup() {
    const popup = document.getElementById('successPopup');
    popup.style.display = 'none';
}

    async function handleResponse(event) {
        event.preventDefault();
        const response = event.submitter.value;
        let responseMessage = '';
        let personalNote = '';

        if (response === 'yes') {
            responseMessage = 'She said YES :)';
            
        } else if (response === 'no') {
            responseMessage = "She said NO :(";
         
        } else {
            responseMessage = "Hurray! Coffee date :)";
           
        }

        const fetchResponse = await fetch('https://script.google.com/macros/s/AKfycbzeCIPJDQjvb7meXSdf2TdCo-q5kvYiPrl7JdpA7sztu5GqvCCfI-79SjreqCZGgZ3R/exec', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: `responseMessage=${encodeURIComponent(responseMessage)}`,
        });

        const googleAppsScriptResponse = await fetchResponse.text(); // Read the response from Google Apps Script

        // Show the success popup only if email sent successfully
        if (googleAppsScriptResponse.includes('Email sent')) {
            showPopup(personalNote);
        }
    }



    </script>
    

</body>
</html>
